<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>‚¨áÔ∏è Web Scraping (curl,wget) - Documentaci√≥n de Javi</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u2b07\ufe0f Web Scraping (curl,wget)";
        var mkdocs_page_input_path = "cli_tools_net/web_scraping.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Documentaci√≥n de Javi
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/1_dirs/">üìÅ Dirs (cd,ls,find,ranger)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/2_files/">üìÑ Files (cat,file,stat)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/3_process/">‚è≥ Process (ps,top)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/compression/">üóúÔ∏è Compress (zip,tar,bz)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/cryptography/">üîë Cryptography (base64)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/plotting/">üìä Plotting (gnuplot)</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../cli_tools/scripting.md">üë®‚Äçüíª Scripting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/customization/">üé® Customization (dotfiles)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/git/">GIT</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../cli_tools/editors.md">üìù Editors (nano,vim,jupyter)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/pacman/">üì¶ Software (pacman,aur,pip)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/ssh/">SSH</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools/tmux/">TMUX</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI data tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/free_text/">‚ö™Ô∏è Free text (regex,grep,tr,sed)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/csv/">üü¢ Excel,csv,tsv (cut,paste,awk)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/html/">üü° HTML (pup) XML</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/json/">üü† JSON (jq)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/pdf/">üî¥ PDF (Xpdf,poppler)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/image/">üîµ Image (ImageMagick)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli_tools_data/sound_video/">üü£ Sound,Video (ffmepg,sox)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI networking tools</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">‚¨áÔ∏è Web Scraping (curl,wget)</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#curl">curl</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#httpie">httpie</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#wget">wget</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#reference">Reference</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#loginsessioncookie">Login/Session/Cookie</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hide-yoir-ip-with-proxy-servers">Hide yoir IP with proxy servers</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-gimmeproxy">1. gimmeproxy</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-they-will-provide-json-response-with-all-proxy-data-which-you-can-use-later-as-needed">2. They will provide JSON response with all proxy data which you can use later as needed:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-use-the-proxy-with-curl">3. Use the proxy with curl</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#web-scraping-methods">Web Scraping methods</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#text-browser-lynx-parse-text-grep">Text browser (lynx) + parse text (grep)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1-static-webpages">1. Static webpages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-api-reverse-engineering">2. API reverse engineering</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-headless-browser-selenium">3. Headless browser &amp; Selenium</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#refenrences">Refenrences</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pentesting/">üó°Ô∏è Pentesting (nmap)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deffensive/">üõ°Ô∏è Deffensive</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../dns.md">üìí DNS (dig,nslookup,whois)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../vpn/">üîí VPN</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../firewall/">üìõ Firewall</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Python</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../python/numpy/">üü¶ Numpy</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../python/machine_learning.md">üü´ Sklearn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../python/pytorch/">üü• Pytorch</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../python/tensorflow.md">üüß Tensorflow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../python/onnx/">‚¨úÔ∏è ONNX</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../python/tensorrt.md">üü© TensorRT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../python/numpy/">üü¶ Parallel</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">C++</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../programming/ruby/">‚ô¶Ô∏è Ruby</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../programming/monitoring/">Monitoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../programming/profiling/">Profiling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../programming/debugging/">Debugging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../programming/makefile/">Makefile</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Documentaci√≥n de Javi</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>CLI networking tools &raquo;</li>
      <li>‚¨áÔ∏è Web Scraping (curl,wget)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="web-scraping">Web Scraping</h1>
<ul>
<li><code>curl</code>: make any HTTP you want</li>
<li><code>httpie</code>: like curl but easier (http get)</li>
<li><code>wget</code>: Download files</li>
<li><code>aria2c</code>: a fancier wget</li>
</ul>
<h2 id="curl">curl</h2>
<ul>
<li><code>-d, --data &lt;data&gt;</code>: (HTTP) Sends the specified data in a POST request to the HTTP server.</li>
<li><code>-i, --include</code>: Show HTTP response headers.</li>
<li><code>-s, --silent</code>: Silent or quiet mode. Don't show progress meter or error messages.</li>
<li><code>-v, --verbose</code>: Verbose. Show request headers (&gt;) and response headers (&lt;).</li>
</ul>
<h2 id="httpie">httpie</h2>
<h2 id="wget">wget</h2>
<pre><code class="language-bash">wget URL                    # Download and store in the current directory.
wget -O CUSTOM_FILENAME URL # Download and store in the current directory with a different file name.
wget -O - URL               # Download and redirects to stdout
wget --limit-rate=200k URL  # Specify download speed. Here speed is limited to 200k.
wget -c URL                 # Continue the Incomplete Download
wget -b URL                 # Download in the Background
wget --spider URL           # Not download the webpage, just check that it is there.
wget --tries=75 URL         # Increase Total Number of Retry Attempts
wget -i FILE_WITH_URLS.txt  # Download multiple URLs. Each line in the txt document is a URL.
-m --mirror                 # Turns on infinite recursion and time-stamping, and keeps FTP directory listings.
  -r --recursive            # Turn on recursive retrieving. The default maximum depth is 5.
  -l depth --level=depth    # Set the maximum number of subdirectories that Wget will recurse into to depth. inf means infinite
  -N --timestamping         # Turn on time-stamping.
  --no-remove-listing       # Don't remove the .listing files generated by FTP retrievals.
-p --page-requisites      # Downloads all files that are necessary to properly display a given HTML page.
-k --convert-links        # After the download, convert the external links to make the work.
-P ./LOCAL-DIR              # saves all the files and directories to the specified directory.
wget --mirror --page-requisites --convert-links -P ./LOCAL_DIR URL # Download a Full Website
wget -Q5m -i FILE_WITH_URLS.txt   # Quit Downloading When it Exceeds Certain Size
wget --ftp-user=USERNAME --ftp-password=PASSWORD URL # FTP Download With wget
wget --reject=gif URL       # Reject Certain File Types while Downloading
wget -o download.log URL    # Log messages to a log file instead of stderr Using wget -o
</code></pre>
<blockquote>
<h3 id="reference">Reference</h3>
<ul>
<li>https://www.queryhome.com/tech/54364/overview-about-wget-command</li>
<li>https://www.linuxtechi.com/wget-command-practical-examples/</li>
<li>https://www.youtube.com/watch?v=GJum2O2JM6M</li>
<li>https://www.youtube.com/watch?v=-GCDJ26B4Ho</li>
</ul>
</blockquote>
<h2 id="loginsessioncookie">Login/Session/Cookie</h2>
<h2 id="hide-yoir-ip-with-proxy-servers">Hide yoir IP with proxy servers</h2>
<blockquote>
<ul>
<li><strong>BAD</strong>: you ---------&gt; request to target</li>
<li><strong>GOOD</strong>: you ---------&gt; requets to proxy server -------&gt; request to target</li>
</ul>
</blockquote>
<h3 id="1-gimmeproxy">1. <a href="https://gimmeproxy.com">gimmeproxy</a></h3>
<p>Make the following request:</p>
<p>https://gimmeproxy.com/api/getProxy</p>
<h3 id="2-they-will-provide-json-response-with-all-proxy-data-which-you-can-use-later-as-needed">2. They will provide JSON response with all proxy data which you can use later as needed:</h3>
<pre><code class="language-json">{
  &quot;supportsHttps&quot;: true,
  &quot;protocol&quot;: &quot;socks5&quot;,
  &quot;ip&quot;: &quot;179.162.22.82&quot;,
  &quot;port&quot;: &quot;36915&quot;,
  ...
}
</code></pre>
<h3 id="3-use-the-proxy-with-curl">3. Use the proxy with curl</h3>
<pre><code class="language-bash"># -x      [protocol://]host[:port]
# --proxy [protocol://]host[:port]
curl -x socks5://179.162.22.82:36915 http://example.com
</code></pre>
<h2 id="web-scraping-methods">Web Scraping methods</h2>
<p>There are many approaches of web scrapping:</p>
<ul>
<li>Text browser (<code>lynx</code>) + parse text (<code>grep</code>)</li>
<li>Download HTML (<code>cURL</code>) + to text (<code>html2text</code>) + parse text (<code>grep</code>)</li>
<li>Download HTML (<code>cURL</code>) + parse HTML (<code>pup</code>)</li>
<li>Do API reverse engineering + parse JSON (<code>jq</code>)</li>
<li>Use Selenium or Headless browser</li>
</ul>
<h3 id="text-browser-lynx-parse-text-grep">Text browser (<code>lynx</code>) + parse text (<code>grep</code>)</h3>
<pre><code class="language-bash">lynx -dump &quot;$the_url&quot; | grep &quot;$the_str&quot;)
</code></pre>
<p>Reference: https://funprojects.blog/2022/04/07/web-scraping-with-1-line-of-bash/</p>
<h3 id="1-static-webpages">1. Static webpages</h3>
<p>Get a simple static page (server side rendered) with <code>curl</code> or <code>wget</code> and parse them</p>
<p>Example:</p>
<pre><code class="language-bash">page_html=$(curl -s $URL)
title=$(echo $page_html | pup 'title' text{})
echo $title

col_A=$(echo $page_html | pup 'a.bb1c_ attr{href}')
col_B=$(echo $page_html | pup 'span.price-sale text{}')
table=$(paste col_A col_B)
</code></pre>
<blockquote>
<p>https://www.youtube.com/watch?v=GJum2O2JM6M</p>
</blockquote>
<h3 id="2-api-reverse-engineering">2. API reverse engineering</h3>
<p>Useful for dynamic websites. Find the hidden api that makes XHR requests to fullfill the webpage. XMLHttpRequest is used heavily in AJAX programming.</p>
<ul>
<li>Step 1: See the requests that the web is doing: Chrome or Firefox dev tools &gt; Network &gt; XHR requests</li>
<li>Step 2: Copy the target request as cURL (right click)</li>
<li>Step 3: Paste the target request in <a href="https://www.postman.com">Postman</a> or <a href="https://insomnia.rest">Insomnia</a></li>
<li>Step 4: Elaborate your own script using <code>curl</code> + <code>jq</code></li>
</ul>
<h3 id="3-headless-browser-selenium">3. Headless browser &amp; Selenium</h3>
<p>Use Selenium or Headless browser for automate the interaction with the web.</p>
<ul>
<li><strong>Selenium</strong></li>
<li><strong>Google Chrome cli</strong></li>
<li>lynx</li>
<li>
<p>lynx -dump -listonly http://aligajani.com </p>
</li>
<li>
<p><code>google-chrome-stable --headless --disable-gpu --dump-dom 'URL' &gt; ~/file.html</code></p>
</li>
</ul>
<h2 id="refenrences">Refenrences</h2>
<ul>
<li>https://www.youtube.com/c/JohnWatsonRooney</li>
<li>https://www.youtube.com/channel/UCBGkweoKCtSBx6GEXRYIWLg/videos</li>
<li>https://www.youtube.com/playlist?list=PLcUid3OP_4OU0zHx1qlCMdB6pEP1zeaY3</li>
<li>https://www.youtube.com/watch?v=kmlYp8I1MJs&amp;list=PLISuMnTdVU-xOHf3jEtiK1B_g5HFgXCb-</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../cli_tools_data/sound_video/" class="btn btn-neutral float-left" title="üü£ Sound,Video (ffmepg,sox)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../pentesting/" class="btn btn-neutral float-right" title="üó°Ô∏è Pentesting (nmap)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../cli_tools_data/sound_video/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../pentesting/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
